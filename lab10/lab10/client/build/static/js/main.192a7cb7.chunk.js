(this.webpackJsonplab8=this.webpackJsonplab8||[]).push([[0],{66:function(e,t,a){e.exports=a(81)},71:function(e,t,a){},72:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),l=a.n(i),s=(a(71),a(65)),o=a(22),c=a(23),d=a(32),u=a(30),p=(a(72),a(51)),m=a(9),h=a(44),f=a(57),k=a(28),v=function(e){return r.a.createElement(p.a,{bg:"success",variant:"dark",expand:"sm",fixed:"top"},r.a.createElement(p.a.Toggle,{"aria-controls":"left-sidebar","aria-expanded":"false","aria-label":"Toggle sidebar",onClick:e.showSidebar}),r.a.createElement(p.a.Brand,null,r.a.createElement(k.b,{to:"/"},r.a.createElement("svg",{className:"bi bi-check-all",width:"30",height:"30",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M12.354 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L5 10.293l6.646-6.647a.5.5 0 01.708 0z",clipRule:"evenodd"}),r.a.createElement("path",{d:"M6.25 8.043l-.896-.897a.5.5 0 10-.708.708l.897.896.707-.707zm1 2.414l.896.897a.5.5 0 00.708 0l7-7a.5.5 0 00-.708-.708L8.5 10.293l-.543-.543-.707.707z"})),"ToDO Manager")),r.a.createElement(m.a,{inline:!0,className:"my-2 my-lg-0 mx-auto d-none d-sm-block",role:"search"},r.a.createElement(h.a,{type:"search",className:"mr-sm-2",placeholder:"Search","aria-label":"Search query"})),r.a.createElement(f.a,{className:"ml-md-auto"},r.a.createElement(f.a.Link,{href:"#"},r.a.createElement("svg",{className:"bi bi-people-circle",width:"30",height:"30",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 008 15a6.987 6.987 0 005.468-2.63z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M8 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}),r.a.createElement("path",{fillRule:"evenodd",d:"M8 1a7 7 0 100 14A7 7 0 008 1zM0 8a8 8 0 1116 0A8 8 0 010 8z",clipRule:"evenodd"})))))},g=a(63),b=a(64),E=a(36),T=a(49),w=a(40),y=a(10),j=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).createProject=function(t){return r.a.createElement(y.a.Item,{action:!0,key:"#".concat(t),active:e.props.activeFilter===t,onClick:function(){e.props.filterTasks("filter-project",t)}},t)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"flush"},r.a.createElement(y.a.Item,{action:!0,key:"#all",active:"All"===this.props.activeFilter,id:"filter-all",onClick:function(){e.props.filterTasks("filter-all")}},"All"),r.a.createElement(y.a.Item,{action:!0,key:"#important",active:"Important"===this.props.activeFilter,id:"filter-important",onClick:function(){e.props.filterTasks("filter-important")}},"Important"),r.a.createElement(y.a.Item,{action:!0,key:"#today",active:"Today"===this.props.activeFilter,id:"filter-today",onClick:function(){e.props.filterTasks("filter-today")}},"Today"),r.a.createElement(y.a.Item,{action:!0,key:"#week",active:"Next Week"===this.props.activeFilter,id:"filter-week",onClick:function(){e.props.filterTasks("filter-week")}},"Next 7 Days"),r.a.createElement(y.a.Item,{action:!0,key:"#private",active:"Private"===this.props.activeFilter,id:"filter-private",onClick:function(){e.props.filterTasks("filter-private")}},"Private"),r.a.createElement(y.a.Item,{action:!0,key:"#shared",active:"Shared"===this.props.activeFilter,id:"filter-shared",onClick:function(){e.props.filterTasks("filter-shared")}},"Shared With..."),r.a.createElement(y.a.Item,{className:"p-3 mt-5 list-title"},"Projects"),this.props.projects.map(this.createProject)))}}]),a}(r.a.Component),O=a(26),C=a.n(O),S=a(56),M=function(e){var t=e.task,a=e.editTask,n=e.deleteTask,i=e.updateTask;return r.a.createElement(y.a.Item,{id:t.id},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:t.important?"custom-control-input important":"custom-control-input",id:"check-t"+t.id,defaultChecked:t.completed,onChange:function(e){return function(e,t){e.target.checked?(t.completed=!0,i(t)):(t.completed=!1,i(t))}(e,t)}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"check-t"+t.id},t.description),r.a.createElement("span",{className:"badge badge-success ml-4"},t.project)),!t.privateTask&&r.a.createElement("svg",{className:"bi bi-person-square",width:"1.2em",height:"1.2em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z",clipRule:"evenodd"}),r.a.createElement("path",{fillRule:"evenodd",d:"M2 15v-1c0-1 1-4 6-4s6 3 6 4v1H2zm6-6a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})),t.deadline&&r.a.createElement("small",{className:t.deadline.isBefore(C()())?"date bg-danger text-white":"date"},t.deadline.format("dddd, MMMM Do YYYY, h:mm:ss a")," "),r.a.createElement("div",null,r.a.createElement(S.a,{width:"20",height:"20",className:"img-button",src:"svg/edit.svg",alt:"",onClick:function(){return a(t)}}),r.a.createElement(S.a,{width:"20",height:"20",className:"img-button",src:"svg/delete.svg",alt:"",onClick:function(){return n(t)}}))))},x=function(e){var t=e.tasks,a=e.editTask,n=e.updateTask,i=e.deleteTask;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(y.a,{as:"ul",variant:"flush"},t.map((function(e){return r.a.createElement(M,{key:e.id,task:e,editTask:a,updateTask:n,deleteTask:i})}))))},N=a(62),F=a(48),D=a(34),I=a(7),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updateField=function(e,t){n.setState(Object(F.a)({},e,t))},n.handleSubmit=function(e){e.preventDefault();var t=e.currentTarget;if(t.checkValidity()){var a=Object.assign({},n.state);""!==a.deadlineDate&&""!==a.deadlineTime?a.deadline=C()(a.deadlineDate+" "+a.deadlineTime):""!==a.deadlineDate&&(a.deadline=C()(a.deadlineDate)),n.props.addOrEditTask(a),n.props.toggleModal()}else t.reportValidity()},n.props.task?(n.state=Object(N.a)({},n.props.task),n.props.task.deadline&&(n.state.deadlineDate=n.props.task.deadline.format("YYYY-MM-DD"),n.state.deadlineTime=n.props.task.deadline.format("HH:mm"))):n.state={description:"",project:"",important:!1,privateTask:!0,deadlineDate:"",deadlineTime:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return this.props.modalOpen?r.a.createElement(D.a,{show:this.props.modalOpen,onHide:this.props.toggleModal,animation:!1},r.a.createElement(D.a.Header,{closeButton:!0},r.a.createElement(D.a.Title,null,"Add a Task")),r.a.createElement(m.a,{method:"POST",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(D.a.Body,null,r.a.createElement(m.a.Group,{controlId:"description"},r.a.createElement(m.a.Label,null,"Description"),r.a.createElement(m.a.Control,{type:"text",name:"description",placeholder:"Type a description...",value:this.state.description,onChange:function(t){return e.updateField(t.target.name,t.target.value)},required:!0,autoFocus:!0})),r.a.createElement(m.a.Group,{controlId:"project"},r.a.createElement(m.a.Label,null,"Project"),r.a.createElement(m.a.Control,{type:"text",name:"project",placeholder:"Type a project for the task...",value:this.state.project,onChange:function(t){return e.updateField(t.target.name,t.target.value)}})),r.a.createElement(m.a.Group,{controlId:"important"},r.a.createElement(m.a.Check,{type:"checkbox",label:"Important",id:"important",name:"important",checked:this.state.important,onChange:function(t){return e.updateField(t.target.name,t.target.checked)}})),r.a.createElement(m.a.Group,{controlId:"private"},r.a.createElement(m.a.Check,{type:"checkbox",label:"Private",id:"private",name:"privateTask",onChange:function(t){return e.updateField(t.target.name,t.target.checked)},checked:this.state.privateTask})),r.a.createElement(m.a.Group,{controlId:"deadline-date"},r.a.createElement(m.a.Label,null,"Deadline"),r.a.createElement(m.a.Control,{type:"date",name:"deadlineDate",value:this.state.deadlineDate,onChange:function(t){return e.updateField(t.target.name,t.target.value)}})),r.a.createElement(m.a.Group,{controlId:"deadline-time"},r.a.createElement(m.a.Control,{type:"time",name:"deadlineTime",value:this.state.deadlineTime,onChange:function(t){return e.updateField(t.target.name,t.target.value)}}))),r.a.createElement(D.a.Footer,null,r.a.createElement(k.b,{to:"/"},r.a.createElement(T.a,{variant:"primary",type:"submit"},this.state.id?"Update":"Add"))))):r.a.createElement(I.a,{to:"/"})}}]),a}(r.a.Component),A=a(21),z=a.n(A),R=a(37),B=function(){function e(t,a,n,r,i,l,s){Object(o.a)(this,e),t&&(this.id=t),this.description=a,this.important=n,this.privateTask=r,void 0!==i&&(this.deadline=C()(new Date(i))),l&&(this.project=l),this.completed=s||!1}return Object(c.a)(e,null,[{key:"from",value:function(t){var a=Object.assign(new e,t);return a.deadline&&(a.deadline=C()(new Date(a.deadline))),a}}]),e}();function Y(){return(Y=Object(R.a)(z.a.mark((function e(t){var a,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/tasks",t&&(a+="?filter="+t),e.next=4,fetch("/api"+a);case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,!n.ok){e.next=12;break}return e.abrupt("return",r.map((function(e){return new B(e.id,e.description,e.important,e.privateTask,e.deadline,e.project,e.completed)})));case 12:throw r;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){t.ok?e(null):t.json().then((function(e){a(e)})).catch((function(e){a({errors:[{param:"Application",msg:"Cannot parse server response"}]})}))})).catch((function(e){a({errors:[{param:"Server",msg:"Cannot communicate"}]})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){fetch("/api/tasks/"+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){t.ok?e(null):t.json().then((function(e){a(e)})).catch((function(e){a({errors:[{param:"Application",msg:"Cannot parse server response"}]})}))})).catch((function(e){a({errors:[{param:"Server",msg:"Cannot communicate"}]})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(R.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){fetch("/api/tasks/"+t,{method:"DELETE"}).then((function(t){t.ok?e(null):t.json().then((function(e){a(e)})).catch((function(e){a({errors:[{param:"Application",msg:"Cannot parse server response"}]})}))})).catch((function(e){a({errors:[{param:"Server",msg:"Cannot communicate"}]})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W={getTasks:function(e){return Y.apply(this,arguments)},addTask:function(e){return H.apply(this,arguments)},updateTask:function(e){return L.apply(this,arguments)},deleteTask:function(e){return G.apply(this,arguments)}},J=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleModal=function(){n.setState((function(e){return{modalOpen:!e.modalOpen,editedTask:null}}))},n.showSidebar=function(){n.setState((function(e){return{openMobileMenu:!e.openMobileMenu}}))},n.filterTasks=function(e,t){switch(e){case"filter-important":W.getTasks("important").then((function(e){return n.setState({tasks:e,filter:"Important"})}));break;case"filter-today":W.getTasks("today").then((function(e){return n.setState({tasks:e,filter:"Today"})}));break;case"filter-week":W.getTasks("week").then((function(e){return n.setState({tasks:e,filter:"Next Week"})}));break;case"filter-private":W.getTasks("private").then((function(e){return n.setState({tasks:e,filter:"Private"})}));break;case"filter-shared":W.getTasks("shared").then((function(e){return n.setState({tasks:e,filter:"Shared"})}));break;case"filter-project":W.getTasks(t).then((function(e){return n.setState({tasks:e,filter:t})}));break;default:W.getTasks().then((function(e){return n.setState({tasks:e,filter:"All"})}))}},n.addOrEditTask=function(e){e.id?W.updateTask(e).then((function(){W.getTasks().then((function(e){return n.setState({tasks:e,filter:"All",projects:n.getProjects(e)})}))})).catch((function(e){})):W.addTask(e).then((function(){W.getTasks().then((function(e){return n.setState({tasks:e,filter:"All",projects:n.getProjects(e)})}))})).catch((function(e){}))},n.editTask=function(e){n.toggleModal(),n.setState({editedTask:e})},n.deleteTask=function(e){W.deleteTask(e.id).then((function(){W.getTasks().then((function(e){return n.setState({tasks:e,filter:"All",projects:n.getProjects(e)})}))})).catch((function(e){}))},n.state={tasks:[],projects:[],filter:"All",openMobileMenu:!1,modalOpen:!1,editedTask:null},n}return Object(c.a)(a,[{key:"getProjects",value:function(e){return Object(s.a)(new Set(e.map((function(e){return e.project?e.project:null}))))}},{key:"componentDidMount",value:function(){var e=this;W.getTasks().then((function(t){return e.setState({tasks:t,projects:e.getProjects(t)})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(v,{showSidebar:this.showSidebar}),r.a.createElement(g.a,{fluid:!0},r.a.createElement(b.a,{className:"vheight-100"},r.a.createElement(w.a,{in:this.state.openMobileMenu},r.a.createElement(E.a,{sm:4,bg:"light",id:"left-sidebar",className:"collapse d-sm-block below-nav"},r.a.createElement(j,{projects:this.state.projects,filterTasks:this.filterTasks,activeFilter:this.state.filter}))),r.a.createElement(E.a,{sm:8,className:"below-nav"},r.a.createElement(I.b,{path:"/"},r.a.createElement("h1",null,this.state.filter),r.a.createElement(x,{tasks:this.state.tasks,editTask:this.editTask,updateTask:this.addOrEditTask,deleteTask:this.deleteTask}),r.a.createElement(k.b,{to:"/add"},r.a.createElement(T.a,{variant:"success",size:"lg",className:"fixed-right-bottom",onClick:this.toggleModal},"+")))),this.state.modalOpen&&r.a.createElement(P,{modalOpen:this.state.modalOpen,toggleModal:this.toggleModal,addOrEditTask:this.addOrEditTask,task:this.state.editedTask})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.192a7cb7.chunk.js.map